# Indoor routing with MapLibre + GeoJSON

Это простой пример локальной страницы, которая загружает `map_geojson.json`, вычисляет центроиды полигонов (помещений), строит наивный граф смежности и рисует кратчайший путь (Dijkstra) между выбранными помещениями.

Файлы:
- `index.html` — главный файл, подключает MapLibre и Turf.js
- `app.js` — логика загрузки, вычислений и визуализации
- `map_geojson.json` — ваш GeoJSON (должен быть в той же папке)

Как запускать локально:
1. Откройте папку в веб-сервере (например, `npx http-server` или `python -m http.server`) — браузеры часто блокируют fetch локальных файлов при открытии `file://`.

2. Откройте страницу `index.html` в браузере.

Примечания и следующие шаги:
- Текущий алгоритм смежности наивен: две комнаты считаются смежными, если полигоны касаются/пересекаются или центроиды ближе порога (3 м). Для точной навигации нужно строить проходы/двери как узлы графа.
- Для Android/Kotlin: используйте MapLibre Android SDK, Turf-JS эквивалент (turf-jvm или JTS+GeoTools) для вычислений, и реализацию Dijkstra (например, JGraphT или своя).
- Можно добавить: поиск по именам, пошаговая навигация, указания в формате turn-by-turn, оптимизация графа (visibility graph), учёт барьеров и дверей.

Если хотите, я могу:
- Улучшить алгоритм (поиск дверей/коридоров) и добавить визуальные подсказки.
- Подготовить порт на Android/Kotlin с примером кода.
